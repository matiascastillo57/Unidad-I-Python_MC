<!-- Versión mejorada que reduce advertencias -->
{% if messages %}
    {% for message in messages %}
        <div class="alert-data" 
             data-type="{{ message.tags }}" 
             data-message="{{ message|escapejs }}"
             style="display: none;">
        </div>
    {% endfor %}

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.alert-data');
        
        alerts.forEach(alert => {
            const type = alert.dataset.type;
            const message = alert.dataset.message;
            
            let config = {
                text: message,
                confirmButtonText: 'OK'
            };
            
            if (type === 'success') {
                config.icon = 'success';
                config.title = '¡Éxito!';
                config.timer = 3000;
                config.timerProgressBar = true;
            } else if (type === 'error' || type === 'danger') {
                config.icon = 'error';
                config.title = 'Error';
                config.confirmButtonColor = '#dc3545';
            } else if (type === 'warning') {
                config.icon = 'warning';
                config.title = 'Atención';
                config.confirmButtonColor = '#ffc107';
            } else if (type === 'info') {
                config.icon = 'info';
                config.title = 'Información';
                config.confirmButtonColor = '#0dcaf0';
            }
            
            Swal.fire(config);
        });
    });
    </script>
{% endif %}